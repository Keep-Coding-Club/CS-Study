# 섹션4. HTTP 메서드

주차: 3일차, 3주차

> HTTP 설계시
리소스와 행위를 분리해야 하며,

가장 중요한 것은 리소스를 식별하는 것

HTTP 메서드 : client가 server에게 기대하는 행위
> 

## HTTP 메서드 - GET, POST

### GET

- 리소스 조회
- 서버에 전달하고 싶은 데이터는 query를 통해서 전달
- 메세지 바디를 사용해서 데이터를 전달할 수 있지만, 지원하지 않는 곳이 많아 권장 X

### POST

- 요청 데이터 처리, 주로 등록에 사용
- 메세지 바디를 통해서 서버로 요청 데이터 전달
- 서버는 요청 데이터를 처리
    - 메세지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행
- 주로 전달된 데이터로 신규 리소스 등록,프로세스 처리에 사용
    1. 새 리소스 생성(등록)
        - 서버가 아직 식별하지 않은 새 리소스 생성
    2. 요청 데이터 처리
        - 단순히 데이터를 생성하거나, 변경하는 것을 넘어서 프로세스를 처리해야 하는 경우
            
            예) 주문에서 결제완료 -> 배달시작 -> 배달완료 처럼 단순히 값 변경을 넘어 프로세스의 상태가 변경되는 경우
            
        - POST의 결과로 새로운 리소스가 생성되지 않을 수도 있음
            
            예) POST /orders/{orderId}/start-delivery (컨트롤 URI)
            
    3. 다른 메서드로 처리하기 애매한 경우
        - JSON으로 조회 데이터를 넘겨야 하는데, GET 메서드를 사용하기 어려운 경우
        - 애매하면 POST

## HTTP 메서드 - PUT, PATCH, DELETE

### PUT

- 리소스를 **완전히 대체**, 해당 리소스가 없으면 생성
- **클라이언트가 리소스 식별**
    - 클라이언트가 리소스 위치를 알고 URI 지정
    - POST와 차이점

### PATCH

- 리소스 부분 변경

### DELETE

- 리소스 삭제

## HTTP 메서드의 속성

- 안전(Safe Methods)
    - 호출해도 리소스를 변경하지 않는다
- 멱등(Idempotent Methods)
    - 한 번 호출하든 두 번 호출하든 100번 호출하든 결과가 똑같다
        
        GET, PUT, DELETE - 멱등 메서드
        
        **POST - 멱등 메서드 X**
        
    
    ![Untitled](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB4%20HTTP%20%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3%20b4768155473a42f1af5951d925fefe58/Untitled.png)
    
- 캐시가능(Cacheable Methods)
    - 응답 결과 리소스를 캐시해서 사용해도 되는가?
    - GET, HEAD, POST,  PATCH 캐시 가능
        - POST, PATCH는 본문 내용까지 캐시 키로 고려해야 하는데, 구현 쉽지 X