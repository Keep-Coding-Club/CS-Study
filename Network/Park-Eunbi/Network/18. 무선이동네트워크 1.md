유선 네트워크에서의 MAC protocol == CSMA/CD

무선 네트워크에서의 protocol을 알아보자  
공기라는 매체를 통해서 전달하기에 충돌 또한 발생한다 

# Wireless Link Characteristics
- 유선은 케이블이라는 매체로 데이터가 전달된다 
- 무선은 공기를 통해 전달되기 때문에 거리가 증가함에 따라 신호의 세기가 줄어든다 
- A - B - C 가 있을 때 
	- A가 전송한다는 걸 C가 알아야 충돌이 나지 않는다. 그런데 A 신호 세기가 거리가 증가함에 따라 줄어들기에 C까지 도달하지 않는다 -> Hidden terminal problem

- 무선은 collision detection 이 불가능하다는 문제가 있다 
- 자신의 노이즈가 너무 커서 다른 신호가 판단되지 않는다 

# IEEE 802.11 Wireless LAN
- wifi의 정식 명칭 

passive scanning
1. AP들은 주기적으로 자신의 정보를 브로드캐스팅함 (beacon을 활용)
2. 가장 믿을 만하고 성능이 괜찮을 AP와 연결하여 통신함 

결국 AP와 데이터 프레임을 주고 받는 것! 

만약 CSMA/CD를 사용한다면 (A - B - C) A가 보낸 정보를 C는 감지하지 못한다 -> C는 충돌이 났음에도 충돌을 감지하지 못하고 자신의 정보를 보낸다 
CSMA/CD에서는 충돌 감지가 되지 않을 때 까지 데이터를 전송한다. 그래서 ACK가 필요 없다. 그 자체가 ACK 신호이기 때문에 
그러나 무선 네트워크에서는 충돌이 가능한데 충돌을 감지할 수 없다. 그래서 무선 네트워크는 ACK를 사용하게 된다 
주의 ! TCP에서의 ACK와 다르다 (링크 레이어에서의 ACK)

# CSMA/CA
- wifi에서 사용하는 MAC protocol
sender 는 DIFS 시간 만큼 기다린 후 데이터를 전송한다 
receiver는 SIFS 시간 만큼 기다린 후 ACK 신호를 전송한다 

만약 ACK가 오지 않았다면 충돌이 발생한것이거나 다른 오류가 발생한 것이다 

- CSMA/CD와 어떤 차이가 있는지 공부해야 제대로 한 것 
- CSMA/CD에서는 충돌이 감지된 순간 멈춘다 
- CSMA/CA에서는 멈춘다는 개념이 없다 (일단 다 보낸다)
	- 무선에서는 충돌이 발생하면 피해가 더 크다 (일단 다 보내기에 낭비되는 데이터와 시간이 크다 )
	- 충돌을 피하고자 하는 시도가 없다 
	- 충돌의 위험이 있음에도 데이터를 끝까지 보낸다는 것이 CSMA/CA의 문제
# Collision Avoidance: RTS-CTS exchange
- CSMA/CA의 충돌 문제를 해결하기 위해 등장 
- 한 번에 데이터를 다 보내는 것이 아니라 
- RTS라는 작은 크기의 control frame을 전송하여 충돌이 나는지 확인하는 방법 
- RTS 보내면 CTS가 와야 한다 (안오면 충돌 -> 랜덤한 시간 동안 기다리고 재 전송)
- AP에 데이터를 보내는 거긴 한데 무선의 특성상 모든 A 통신 반경으로 모든 정보가 전달된다 
