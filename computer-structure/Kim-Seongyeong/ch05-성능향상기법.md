# ch05 CPU 성능 향상 기법

주차: 2일차, 6주차

# 5-1. 빠른 CPU를 위한 설계 기법

## 클럭

- 클럭 속도
    - 헤르츠(Hz) 단위로 측정
    - 1초에 클럭이 몇 번 반복되는지
    - 클럭 속도가 높으면 일반적으로 CPU 성능 좋음

## 코어와 멀티코어

- 코어
    - CPU 내에서 명령어를 실행하는 부품으로 여러 개 있을 수 있음
    - 코어를 여러 개 포함하는 CPU
        
        : 멀티코어 CPU or 멀티코어 프로세서
        
        코어마다 처리할 연산이 적절히 분배되지 않으면 코어 수에 비례하여 연산 속도 증가 X
        

## 스레드와 멀티스레드

- 스레드
    - 실행 흐름의 단위
    - 종류
        - 하드웨어적 스레드
            
            하나의 코어가 동시에 처리하는 명령어 단위
            
            멀티스레드 프로세서 : 여러 개의 하드웨어적 스레드를 지원하는 CPU
            
        - 소프트웨어적 스레드
            
            하나의 프로그램에서 독립적으로 실행되는 단위
            
            하나의 코어가 동시에 처리하는 명령어 단위
            

# 5-2. 명령어 병렬 처리 기법

## 명령어 파이프라인

- 명령어 처리 과정
    1. 명령어 인출(Instruction Fetch)
    2. 명령어 해석(Instruction Decode)
    3. 명령어 실행(Execute Instruction)
    4. 결과 저장(Write Back)
    
- 명령어 파이프라이닝
    - 동시에 여러 개의 명령어를 겹쳐 실행하는 기법

- 파이프라인 위험 종류
    1. 데이터 위험
        
        명령어 간 데이터 의존성에 의해 발생
        
    2. 제어 위험
        
        분기 등으로 인한 프로그램 카운터의 갑작스러운 변화에 의해 발생
        
    3. 구조적 위험(자원위험)
        
        명령어들을 겹쳐 실행하는 과정에서 서로 다른 명령어가 동시에 ALU, 레지스터 등과 같은 CPU 부품을 사용하려 할 때 발생
        

## 슈퍼스칼라

- 슈퍼스칼라
    - CPU 내부에 여러 개의 명령어 파이프라인을 포함한 구조
    - 슈퍼스칼라 프로세서 or 슈퍼스칼라 CPU
        
        : 슈퍼스칼라 구조로 명령어 처리가 가능한 CPU
        

## 비순차적 명령어 처리

- 비순차적 명령어 처리(OoOE)
    - 파이프라인 중단을 방지하기 위해 명령어들을 순차적으로 실행하지 않는 명령어 병렬 처리 기법

# 5-3. CISC와 RISC

## 명령어 집합

- 명령어 집합 or 명령어 집합 구조(ISA)
    - CPU가 이해할 수 있는 명령어들의 모음

## CISC

- CISC
    - Complex Instruction Set Computer
        
        복잡한 명령어 집합을 활용하는 컴퓨터
        
    - 복잡하고 다양한 수의 가변 길이 명령어 집합을 활용
- CISC 한계
    - 빠른 처리를 위해 명령어 파이프라인을 십분 활용해야 함
        
        원활한 파이프라이닝을 위해 명령어 길이와 수행 시간이 짧고 규격화 되어야 함
        
    - 어차피 자주 쓰이는 명령어만 줄곧 사용된다
        
        복잡한 기능을 지원하는 명령어를 추가하기보다 자주 쓰이는 기본적인 명령어를 작고 빠르게 만드는 것 중요
        

## RISC

- RISC
    - Reduced Intsruction Set Computer
    - 단순하고 적은 수의 고정 길이 명령어 집합을 활용
    - 짧고 규격화된 명령어를 활용하기에 명령어 파이프라이닝에 유리
    - load-store 구조