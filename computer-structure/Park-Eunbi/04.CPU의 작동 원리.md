# 04-1. ALU와 제어장치 
## ALU
걔산을 위한 부품 
레지스터를 통해 피연산자를 받아들이고,
제어장치로부터 수행할 연산을 알려주는 제어 신호를 받아들인다 
산술 연산, 논리 연산 등 다양한 연산 수행      
![Pasted image 20230817205812](https://github.com/Park-EunBi/algorithm/assets/87464975/7c60e96d-a0a6-41c0-93ee-b4c2928290f5)
       
연산의 결괏값은 바로 메모리에 저장되지 않고 일시저으로 레지스터에 저장
플래그: 연산 결과에 대한 추가적인 정보를 담고 있음 
플래그 레지스터: 플래그가 저장되는 위치
## 제어 장치 
제어 신호를 내보내고 명령어를 해석하는 부품     
![Pasted image 20230817210009](https://github.com/Park-EunBi/algorithm/assets/87464975/40c81c47-fdb7-4413-a7b9-2b21ec203657)
     
### 제어 장치가 받아들이는 정보 
1. 클럭 신호 
컴퓨터의 모든 부품을 일사분란하게 움직일 수 있게 하는 시간 단위 
2. 해석해야 할 명령어 
명령어 레지스터에 저장 
3. 플래그 레지스터 속 플래그 값 
4. 시스템 버스 특히, 제어버스로 전달된 제어 신호 
# 04-2. 레지스터 
### 프로그램 카운터 
명령어 포인터 라고도 불림 
메모리에서 읽어 들일 명령어의 주소 저장
### 명령어 레지스터 
방금 메모리에서 읽어 들인 명령어를 저장
제어장치는 명령어 레지스터 속 명령어를 받아들이고 해석한 뒤 제어 신호를 내보냄 
### 메모리 주소 레지스터
메모리 주소를 저장
CPU가 읽어 들이고자 하는 주소 값을 주소 버스로 보낼 때 메모리 주소 레지스터를 거침
### 메모리 버퍼 레지스터 
메모리 데이터 레지스터 (MDR) 라고도 불림
메모리와 주고받을 값을 저장하는 레지스터 (데이터와 명령어)
CPU가 주소 버스로 내보낼 값이 메모리 주소 레지스터를 거친다면, 데이터 ㅈ버스로 주고 받을 값은 메모리  버퍼 레지스터를 거침 
### 범용 레지스터 
데이터와 주소 모두 저장 가능 
### 플래그 레지스터 
연산 결과 또는 CPU 상태에 대한 부가적인 정보 저장 
## 특정 레지스터를 이용한 주소 지정 방식(1) : 스택 주소 지정 방식
스택 주소 지정 방식: 스택, 스택 포인터를 이용한 주소 지정 방식 
스택 포인터: 스택의 꼭대기를 가리키는 레지스터 
스택 영역: 메모리 안에 스택처럼 사용할 영역  (암묵적으로 약속된 영역)
## 특정 레지스터를 이용한 주소 지정 방식(2): 변위 주소 지정 방식 
오퍼랜드 필드의 값(변위)과 특정 레지스터의 값을 더하여 유효 주소를 얻어내는 주소 지정 방식 
상대 주소 지정 방식, 베이스 레지스터 주소 지정 방식 등으로 나뉨 
### 상대 주소 지정 방식 
오퍼랜드와 프로그램 카운터의 값을 더하여 유효 주소를 얻는 방식
### 베이스 레지스터 주소 지정 방식 
오퍼랜드와 베이스 레지스터의 값을 더하여 유효 주소를 얻는 방식
베이스 레지스터: 기준 주소
오퍼랜드: 기준 주소로부터 떨어진 거리 
# 04-3. 명령어 사이클과 인터럽트
하나의 명령어를 처리하는 정형화된 흐름
## 명령어 사이클 
프로그램 속 명령어들은 일정한 주기가 반복되며 실행된다. 이 주기를 명령어 사이클이라 함
인출 사이클: 메모리에 있는 명령어를 CPU로 가져오는 단계
실행 사이클: CPU로 가져온 명령어를 실행하는 단계 
## 인터럽트
CPU의 작업을 방해하는 신호 
동기 인터럽트 (== 예): CPU에 의해 발생하는 인터럽트, 프로그램상 오류와 같은 예외
비동기 인터럽트 (== 하드웨어 인터럽트): 주로 입출력 장치에 의해 발생하는 인터럽트 
### 하드웨어 인터럽트 
알림과 같은 인터럽트 
입출력 작업 도중 효율적으로 명령어를 처리하기 위해 알림과 같은 하드웨어 인터럽트 사용 
#### 처리 순서
1. 입출력 장치는 CPU에 인터럽트 요청 신호 보냄 
2. CPU는 실행 사이클이 끝나고 명령어를 인출하기 전 항상 인터럽트 여부 확인 
3. CPU는 인터럽트 요청을 확인하고 인터럽트 플래그를 통해 현재 인터럽트를 받아들일 수 있는지 여부 확인 
4. 인터럽트를 받아들일 수 있다면 CPU는 지금까지의 작업 백업
5. CPU는 인터럽트 백터를 참조하여 인터럽트 서비스 루틴 실행 
6. 인터럽트 서비스 루틴이 끝나면 (4)에서 백업해 둔 작업을 복구하여 실행 재개 
#### 용어 설명
인터럽트 요청 신호: 인터럽트 전 CPU에게 가능 여부를 물어보는 것
인터럽트 플래그: CPU가 인터럽트 요청을 수용하기 위해 사용하는 플래그
인터럽스 서비스 루틴(== 인터럽트 핸들러): 인터럽트를 처리하기 위한 프로그램 
인터럽트 백터: 인터럽트 서비스 루틴을 식별하기 위한 정보
