# ch02 기본 자료구조

주차: 2일차, 4주차

## 배열이란

> 자료구조
: 데이터 단위*와 데이터 자체 사이의 물리적 또는 논리적인 관계
> 

- 배열 초기화
    
    ```cpp
    int a[5] = {1,2,3,4,5};
    ```
    
- 배열 요소 개수 구하기
    
    ```cpp
    int cnt = sizeof(a)/sizeof(a[0]);
    ```
    

### 메모리 할당과 동적 객체 생성

- calloc 함수
    
    ```cpp
    void *calloc(size_t nmemb, size_t size)
    ```
    
    크기가 size인 자료가 nmemb개만큼 들어갈 메모리를 할당
    
    할당한 메모리 영역은 모든 비트가 0으로 초기화
    
- malloc 함수
    
    ```cpp
    void *malloc(size_t size);
    ```
    
    크기가 size인 메모리를 할당
    
    할당한 메모리 값은 정의되지 않음
    
- C언어의 메모리 구조
    
    > 메모리 영역
    : 데이터, 스택, 힙
    > 
    
    - 데이터 영역
        - 전역 변수와 정적 변수가 할당되는 영역
        - 프로그램을 시작하면 할당되고, 프로그램을 종료하면 메모리 해제함
    - 스택 영역
        - 함수 호출 시 생성되는 지역 변수와 매개변수가 저장되는 영역
        - 함수 호출이 완료되면 사라짐
    - 힙 영역
        - 필요에 따라 동적으로 메모리 할당
- 메모리 해제
    - free 함수

### 포인터와 배열

> 포인터
: 객체 또는 함수를 가리키는 것
> 

```cpp
int *p; //p는 int형 객체를 가리키는 포인터
p = &n; //n의 주소를 p에 대입(p가 n을 가리키도록 함)
*p = 9; //p가 가리키는 곳에 9를 대입

int a[5];
int *p = a;

//아래 4개의 식은 모두 배열의 각 요소에 접근하는 식
a[i] *a(i+1) p[i] *(p+i)

//아래 4개의 식은 배열의 각 요소를 가리키는 포인터
&a[i] a+i &p[i] p+i
```

## 구조체란

> 구조체
: 임의의 자료형의 요소를 조합하여 다시 만든 자료구조
> 

```cpp
struct xyz{
	int x;
	long y;
	double z;
};

//struct xyz형 a의 정의
struct xyz a;

//a를 가리키킄 포인터
struct xyz *p = &a;

//구조체의 객체안 멤버 접근
a.z; //객체 이름.멤버 이름(객체 a 안의 멤버 x)
p->x; //포인터 이름->멤버 이름(p가 가리키는 객체 안의 멤버 x)

//typedef 선언
typedef struct xyz XYZ;
XYZ a;  //XYZ형(즉, struct xyz형)
XYZ *p = &a;
```